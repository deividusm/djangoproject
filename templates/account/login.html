{% load socialaccount %}

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Acceso a ReciclaApp</title>
  <style>
    body { font-family: system-ui, sans-serif; margin:0; display:flex; align-items:center; justify-content:center; min-height:100vh; background:linear-gradient(160deg,#6366f1,#3b82f6);}
    .panel { background:#fff; padding:32px; border-radius:16px; box-shadow:0 6px 16px rgba(0,0,0,.15); text-align:center; max-width:380px; width:100%;}
    h2 { margin-bottom:16px;}
    .btn { display:block; width:100%; padding:12px; border-radius:8px; font-weight:bold; text-decoration:none; background:#22c55e; color:white; margin-top:10px; border:0; cursor:pointer;}
    .btn:hover { background:#16a34a;}
    input, select { width:100%; padding:10px; margin-bottom:12px; border:1px solid #ddd; border-radius:6px;}
    .subtle { font-size:14px; color:#666; margin:10px 0; }
  </style>
</head>
<body>
  <div class="panel">
    <h2>Inicia sesión</h2>

    <!-- Formulario normal de allauth -->
    <form method="post" action="{% url 'account_login' %}">
      {% csrf_token %}
      {{ form.as_p }}
      <button type="submit" class="btn">Entrar</button>
    </form>

    <div class="subtle">o continúa con:</div>

    <!-- Google con POST para saltar la pantalla intermedia -->
    <form method="post" action="{% provider_login_url 'google' process='login' next='/hub/' %}">
      {% csrf_token %}
      <button type="submit" class="btn">Google</button>
    </form>

    <div class="subtle" style="margin-top:14px">
      ¿No tienes cuenta? <a href="{% url 'account_signup' %}">Crear una</a>
    </div>
  </div>
</body>
</html>
